---
title: "Econ 184b, Fall 2021, Final Project"
output: html_document
---

Note on submission format: 

* You are expected to turn in the problems in a **report format**: formulate succinct and coherent arguments and use econometric outputs as your evidence. Cite any reference if necessary. Just answering the guiding questions are not enough, and just showing programming outputs will receive zero credit. 
* You need to submit (1) the compiled pdf/html file; (2) the RMarkdown (.rmd) file; (3) any additional data you used on LATTE. You will get a bonus equal to 5% of your performance if your RMarkdown file is completely reproducible with minimal altercation (install packages, load data, etc.). That is, our team (or anyone else) should be able to recompile your Rmarkdown file and reach *the same* result. 

Note on collaboration: 

* You are allowed to work in a group of no more than two people. If you choose to work individually, you will receive a 10% bonus added to your final grade. Your grade can exceed 100% if you choose to work individually. State your team member clearly on the first page of your report.
* You are expected to complete this project individually/between your team members. Any help from others (excluding permitted individuals, details below) are not allowed. Any dishonest behaviors will result in an automatic zero on the final project, in addition to being referred to the Department of Student Rights and Community Standards.
* You are allowed to direct questions towards myself, the TAs, and/or other resources available at the institutional level, e.g., a research libriarian. Please be noted though that our team will provide minimal help. **We are under no obligation to help you debug your code and/or check your answers.**


```{r,echo=F}
knitr::opts_chunk$set(message=F,warning=F)
```

```{r,echo=F,message=FALSE}
library(tidyverse)
library(ggplot2)
library(ggthemes)
library(magrittr)
library(readr)
# code_dir = dirname(rstudioapi::getActiveDocumentContext()$path)
# knitr::opts_knit$set(root.dir=code_dir)
# setwd(code_dir)
```
### The Question

You are tasked by a leading real estate company to predict housing prices, mimicking the effort of [Zestimate](https://www.zillow.com/how-much-is-my-home-worth/).^[Also see https://www.bloomberg.com/news/articles/2021-11-08/zillow-z-home-flipping-experiment-doomed-by-tech-algorithms for a recent cautionary tale from Zillow.] 

A random sample of actual housing market transactions in the state of New York is provided to you as training data. The dataset contains almost everything that is reported to tax authorities: sales price, year, structural information, and 

**Choose one of the two following options**:

#### Option (1)
Use the provided data, construct a model that predicts historical housing market prices as close as possible. **You will be evaluate based on the out-of-sample performance of your model.** That is, your model will be used to predict a new set of housing transaction data. 

Creativity in the modeling approach/choice of predictors will be rewarded. 

#### Option (2)
Use the provided data, answer an economic question of your choice. One prominent framework is the hedonic regression framework, which quantifies the value of public goods using observed housing market price differences ([Bishop et al. 2020](https://www.journals.uchicago.edu/doi/abs/10.1093/reep/reaa001?journalCode=reep) for a guideline). Some of the examples using this framework include quantifying school district quality ([Black 1999](https://academic.oup.com/qje/article-abstract/114/2/577/1844232)), flood risk ([Bakkensen and Barrage 2021](https://bf2c3291-4d95-49de-ab39-63299848ac28.filesusr.com/ugd/66d8d1_a176e3d162a349a3b6e62568a98a9c5f.pdf)), hazardous waste sites([Greenstone and Gallagher 2008](https://academic.oup.com/qje/article-abstract/123/3/951/1928203)).

You could also embark on other journeys that are directly related to the housing market, for example race and discrimination in the housing market ([Myers 2004](https://www.sciencedirect.com/science/article/pii/S0094119004000397)) or housing market speculation ([Burnside et al. 2016](https://www.journals.uchicago.edu/doi/full/10.1086/686732)). 

You will be evaluated by (1) **the novelty of the research question** (estimating the value of an extra bedroom won't work); and (2) **the consistency of the modeling approach** (if you anticipate a problem with omitted variable bias, using different estimation strategies, e.g. panel model/instrumental variable/regression discontinuity, will come in handy). 

#### General tips

In order to make a successful prediction/inference, you will probably need to find additional information to augment the data set provided. For example, neighborhood characteristics, school districts, or crime rates will capitalize into the housing price, but are not currently included in the data set provided by the tax authority. A good place to start is the US census. A complete dataset of the 2018 census at the block group level can be downloaded [here](https://www.dropbox.com/t/O9DHyFSipRmfpigr). A sample code on extracting information from this dataset is available [here](https://raw.githubusercontent.com/f1kidd/Econ184/main/Final%20Project/census_standalone.R). The dataset can be merged into the housing transaction dataset using the census block group number (*census_bg*).

A successful report will need to present:

1. A brief description of the context
2. Choices you've made during the modeling process
3. Your results, illustrated by words and any supporting graphs when necessary
4. Attach a) the complete set of codes; b) any additional data you used, excluding the census dataset.


